# Java Server Pages (JSP)

## JSP (JavaServer Pages) 
— платформонезависимая переносимая и легко расширяемая технология разработки веб-приложений, позволяющая веб-разработчикам создавать содержимое, которое имеет как статические, так и динамические компоненты. Страница JSP содержит текст двух типов: статические исходные данные, которые могут быть оформлены в одном из текстовых форматов HTML, SVG, WML, или XML, и JSP-элементы, которые конструируют динамическое содержимое. Кроме этого могут использоваться библиотеки JSP-тегов, а также EL (Expression Language), для внедрения Java-кода в статичное содержимое JSP-страниц.

Код JSP-страницы транслируется в Java-код сервлета с помощью компилятора JSP-страниц Jasper, и затем компилируется в байт-код JVM.

JSP-страницы загружаются на сервере и управляются Java EE Web Application. Обычно такие страницы упакованы в файловые архивы .war и .ear.

### Как можно предотвратить прямой доступ к JSP странице из браузера?
Прямой доступ к директории `/WEB-INF/` из веб-приложения отсутствует. Поэтому JSP-страницы можно расположить внутри этой папки и тем самым запретить доступ к странице из браузера. Однако, по аналогии с описанием сервлетов, будет необходимо настроить дескриптор развертывания:

```
<servlet>
    <servlet-name>Example</servlet-name>
    <jsp-file>/WEB-INF/example.jsp</jsp-file>
    <init-param>
        <param-name>exampleParameter</param-name>
        <param-value>parameterValue</param-value>
    </init-param>
</servlet>
    
<servlet-mapping>
    <servlet-name>Example</servlet-name>
    <url-pattern>/example.jsp</url-pattern>
</servlet-mapping>
```

### Динамическое и статическое содержимое JSP

Статическое содержимое JSP (HTML, код JavaScript, изображения и т.д.) не изменяется в процессе работы веб приложения.

Динамические ресурсы созданы для того, чтобы отображать свое содержимое в зависимости от пользовательских действий. Обычно они представлены в виде выражений EL (Expression Language), библиотек JSP-тегов и пр.

### в pom.xml:
```
  <!-- подключаем библиотеку -->
  
  <dependencies>
        <dependency>
            <groupId>javax.servlet</groupId>
            <artifactId>jsp-api</artifactId>
            <version>2.0</version>
            <scope>provided</scope>
        </dependency>  
  </dependencies>
 ```

### Основные типы тегов JSP

* Выражение JSP: `<%= expression %>` - выражение, которое будет обработано с перенаправлением результата на вывод;
* Скриплет JSP: `<% code %>` - код, добавляемый в метод `service()`.
* Объявление JSP: `<%! code %>` - код, добавляемый в тело класса сервлета вне метода `service()`.
* Директива JSP page: `<%@ page att="value" %>` - директивы для контейнера сервлетов с информацией о параметрах.
* Директива JSP include: `<%@ include file="url" %>` - файл в локальной системе, подключаемый при трансляции JSP в сервлет.
* Комментарий JSP: `<%-- comment --%>` - комментарий; игнорируется при трансляции JSP страницы в сервлет.

## Взаимодействие JSP - сервлет - JSP.

«JSP - сервлет - JSP» архитектура построения приложений носит название `MVC (Model/View/Controller)`:

* Model - классы данных и бизнес-логики;


* View - страницы JSP;


* Controller - сервлеты.
